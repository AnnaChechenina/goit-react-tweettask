{"version":3,"file":"static/js/151.ca2590fc.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/TweetsItem/TweetsItem.module.css?bdc6","helpers/formatNumber.js","helpers/api.js","components/TweetsItem/TweetsItem.jsx","webpack://react-homework-template/./src/components/TweetsList/TweetsList.module.css?2ae8","components/TweetsList/TweetsList.jsx","webpack://react-homework-template/./src/pages/Tweets/Tweets.module.css?3fe9","pages/Tweets/Tweets.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"tweet\":\"TweetsItem_tweet__HdYVW\",\"logo\":\"TweetsItem_logo__A1UPL\",\"line\":\"TweetsItem_line__kDh2I\",\"avatarWrapper\":\"TweetsItem_avatarWrapper__cgyGL\",\"avatar\":\"TweetsItem_avatar__xe9Pr\",\"textTweets\":\"TweetsItem_textTweets__Oal2W\",\"textFollowers\":\"TweetsItem_textFollowers__+VqnV\",\"button\":\"TweetsItem_button__YQyPv\",\"buttonActive\":\"TweetsItem_buttonActive__4pS7s\"};","export function formatNumber(number) {\n  const n = number.toString().split('.');\n  return (\n    n[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',') +\n    (n.length > 1 ? '.' + n[1] : '')\n  );\n}\n","import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'https://64326157d0127730d2d158ef.mockapi.io/users',\n});\n\nexport const fetchUsers = async (page = 1) => {\n  try {\n    const response = await api.get('/users', {\n      params: {\n        page,\n        limit: 3,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nexport const fetchFollowers = async () => {\n  try {\n    const response = await api.get('/users', {\n      params: {\n        isFollowed: true,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nexport const fetchNonFollowers = async () => {\n  try {\n    const response = await api.get('/users', {\n      params: {\n        isFollowed: false,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nexport const followUser = async (id, followers) => {\n  try {\n    await api.put(`/users/${id}`, {\n      followers,\n      isFollowed: true,\n    });\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nexport const unFollowUser = async (id, followers) => {\n  try {\n    await api.put(`/users/${id}`, {\n      followers,\n      isFollowed: false,\n    });\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n","import React, { useState } from 'react';\nimport css from './TweetsItem.module.css';\nimport PropTypes from 'prop-types';\nimport { formatNumber } from '../../helpers/formatNumber';\nimport picture from '../../images/picture.png';\n\nimport logo from '../../images/logo.png';\n\nimport { followUser, unFollowUser } from '../../helpers/api';\n\nexport default function TweetsItem({ user }) {\n  const [isFollowed, setIsFollowed] = useState(user.isFollowed || false);\n  const [followers, setFollowers] = useState(user.followers);\n\n  const handleClickFollow = async () => {\n    setIsFollowed(true);\n    setFollowers(prevState => prevState + 1);\n    await followUser(user.id, followers + 1);\n  };\n\n  const handleClickUnFollow = async () => {\n    setIsFollowed(false);\n    setFollowers(prevState => prevState - 1);\n    await unFollowUser(user.id, followers - 1);\n  };\n\n  return (\n    <li className={css.tweet}>\n      <picture>\n        <source srcSet={`${picture} `} />\n        <img src={picture} alt={picture} />\n      </picture>\n\n      <picture className={css.logo}>\n        <source srcSet={`${logo} `} />\n        <img src={logo} alt=\"logo\" />\n      </picture>\n\n      <div className={css.line}></div>\n\n      <div className={css.avatarWrapper}></div>\n      <img className={css.avatar} src={user.avatar} alt=\"avatar\" />\n\n      <p className={css.textTweets}>{user.tweets} tweets</p>\n      <p className={css.textFollowers}>{formatNumber(followers)} follower</p>\n\n      {isFollowed ? (\n        <button className={css.buttonActive} onClick={handleClickUnFollow}>\n          Following\n        </button>\n      ) : (\n        <button className={css.button} onClick={handleClickFollow}>\n          Follow\n        </button>\n      )}\n    </li>\n  );\n}\n\nTweetsItem.propTypes = {\n  user: PropTypes.object.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"TweetsList_list__puywo\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TweetsItem from '../TweetsItem/TweetsItem';\nimport css from './TweetsList.module.css';\n\nexport default function TweetsList({ users }) {\n  return (\n    <ul className={css.list}>\n      {users.map(item => (\n        <TweetsItem user={item} key={item.id} />\n      ))}\n    </ul>\n  );\n}\n\nTweetsList.propTypes = {\n  users: PropTypes.arrayOf(Object).isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"tweetsPage\":\"Tweets_tweetsPage__8UZ4-\",\"button\":\"Tweets_button__d7Ykc\",\"disabled\":\"Tweets_disabled__oeLc7\",\"goBack\":\"Tweets_goBack__tNQLG\",\"filter\":\"Tweets_filter__AGGC2\",\"filterLabel\":\"Tweets_filterLabel__OyGYw\",\"option\":\"Tweets_option__dc3Lq\"};","import React, { useEffect, useState } from 'react';\nimport TweetsList from '../../components/TweetsList/TweetsList';\n\nimport css from './Tweets.module.css';\n\nimport {\n  fetchFollowers,\n  fetchNonFollowers,\n  fetchUsers,\n} from '../../helpers/api';\nimport { NavLink } from 'react-router-dom';\n\nexport default function Tweets() {\n  const [users, setUsers] = useState([]);\n  const [filter, setFilter] = useState('all');\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    fetchUsers(filter).then(data => {\n      setUsers(data);\n    });\n  }, [filter]);\n\n  useEffect(() => {\n    async function getUsers() {\n      let data;\n      if (filter === 'all') {\n        data = await fetchUsers(page);\n      } else if (filter === 'follow') {\n        data = await fetchNonFollowers(page);\n      } else if (filter === 'following') {\n        data = await fetchFollowers(page);\n      }\n      setUsers(users => [...users, ...data]);\n    }\n    getUsers();\n  }, [page, filter]);\n\n  const handleFilterChange = e => {\n    const newFilter = e.target.value;\n    setPage(1);\n    setFilter(newFilter);\n    setUsers([]);\n  };\n  const handleLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  return (\n    <div className={css.tweetsPage}>\n      <NavLink to=\"/\" className={css.goBack}>\n        Go Back\n      </NavLink>\n      <div className={css.filter}>\n        <label className={css.filterLabel}>\n          Filter:\n          <select\n            className={css.option}\n            value={filter}\n            onChange={handleFilterChange}\n          >\n            <option value=\"all\">Show All</option>\n            <option value=\"follow\">Follow</option>\n            <option value=\"following\">Following</option>\n          </select>\n        </label>\n      </div>\n      <TweetsList users={users} />\n\n      <button\n        type=\"button\"\n        className={page === 3 ? css.disabled : css.button}\n        onClick={handleLoadMore}\n        disabled={page === 3}\n      >\n        Load More\n      </button>\n    </div>\n  );\n}\n"],"names":["formatNumber","number","n","toString","split","replace","length","api","axios","baseURL","fetchUsers","page","get","params","limit","response","data","console","error","message","fetchFollowers","isFollowed","fetchNonFollowers","followUser","id","followers","put","unFollowUser","TweetsItem","user","useState","setIsFollowed","setFollowers","handleClickFollow","prevState","handleClickUnFollow","className","css","srcSet","picture","src","alt","logo","avatar","tweets","onClick","TweetsList","users","map","item","Tweets","setUsers","filter","setFilter","setPage","useEffect","then","getUsers","to","value","onChange","e","newFilter","target","type","prevPage","disabled"],"sourceRoot":""}